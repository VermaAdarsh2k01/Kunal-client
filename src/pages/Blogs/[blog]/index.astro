---
import Layout from '../../layouts/Layout.astro';
import { Navbar } from '../../new_components/Navbar.jsx';
import { Footer } from '../../components/Footer.jsx';
import { ScrollUpButton } from '../../components/ScrollUpButton';
import BlogPost from '../../new_components/BlogPost.jsx';
import { blogData } from '../../data/blogData';

export async function getStaticPaths() {
  return blogData.map((post) => ({
    params: { slug: post.slug },
  }));
}

export async function get({ params }) {
  const post = blogData.find((blog) => blog.slug === params.slug);
  return {
    props: { post },
  };
}

const { post } = Astro.props;
---

<Layout>
  <Navbar client:load />
  <BlogPost post={post} />
  <Footer />
  <ScrollUpButton client:load />
</Layout>